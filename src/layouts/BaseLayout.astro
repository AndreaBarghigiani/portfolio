---
import Head from '@/components/partials/Head.astro';
import Header from '@/components/partials/Header.astro';
import Footer from '@/components/partials/Footer.astro';
import '@fontsource-variable/figtree';
import '@/styles/global.css';
import type { Seo } from '@/lib/constants';

interface Props {
  seo?: Seo;
}

const { seo } = Astro.props;
---

<html lang="en" class="bg-background text-foreground">
  <Head {seo} />

  <!-- Prevent flash of incorrect theme -->
  <script is:inline>
    // Apply theme immediately
    document.documentElement.classList.toggle(
      'dark',
      localStorage.theme === 'dark' ||
        (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
    );
  </script>

  <body class="bg-background text-foreground relative pb-12">
    <Header />

    <main class="pt-32">
      <slot />
    </main>

    <Footer />
  </body>
</html>
